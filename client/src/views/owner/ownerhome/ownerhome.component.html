<div class="container-fluid" ng-controller="OwnerHomeController" ng-init="init()">
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-2 sidebar-column" style="padding: 0;">
            <sidebar></sidebar>
        </div>

        <!-- Main Content Column -->
        <div class="col-md-10 main-content">
            <div class="profile-panel panel panel-info" style="border-radius: 8px; box-shadow: 0 8px 20px rgba(0,0,0,0.15); border: none; margin: 20px;">
                <div class="panel-heading" style="color: rgb(68, 68, 68); border-radius: 8px 8px 0 0; padding: 20px;">
                    <h3 class="panel-title text-center" style="font-size: 24px; margin: 0;">
                        <i class="fa fa-home"></i> Dashboard
                        <div class="user-greeting">Hello, {{ user.name }}!</div>
                    </h3>
                </div>

                <div class="panel-body" style="padding: 20px;">
                    <div class="filter-container" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="start-date"><i class="fa fa-calendar"></i> Start Date</label>
                                    <input type="date" class="form-control" id="start-date" ng-model="startDate">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="end-date"><i class="fa fa-calendar"></i> End Date</label>
                                    <input type="date" class="form-control" id="end-date" ng-model="endDate">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-primary" style="margin-top: 25px;" ng-click="changedate()">
                                    <i class="fa fa-filter"></i> Show Data
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">Bidding Overview</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="biddingChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">Weekly Bidding Analysis</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="weeklyBiddingChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">User Comparison</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="userComparisonChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">User Earnings</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="userEarningsChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">Popular Car Models</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="popularCarModelsChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">Category Bookings</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="categoryBookingsChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">Earnings Comparison</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="earningsComparisonChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-bottom: 20px;">
                            <div class="chart-panel panel panel-default" style="height: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                                <div class="panel-heading" style="background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 10px; border-radius: 8px 8px 0 0;">
                                    <h4 class="panel-title">Bidding Hours Analysis</h4>
                                </div>
                                <div class="panel-body" style="height: calc(100% - 45px);">
                                    <canvas id="biddingHoursChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .user-greeting {
        font-size: 16px;
        color: #6c757d;
        margin-top: 10px;
    }

    .chart-panel {
        transition: transform 0.3s ease;
    }

    .chart-panel:hover {
        transform: translateY(-5px);
    }

    .panel-title {
        color: #495057;
        font-weight: 500;
    }

    .form-control {
        border-radius: 4px;
        border: 1px solid #ced4da;
        padding: 10px;
    }

    .form-control:focus {
        border-color: #007bff;
        box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
    }

    .btn-primary {
        background: linear-gradient(135deg, #007bff, #388fec);
        border: none;
        border-radius: 4px;
        padding: 10px 20px;
        transition: all 0.3s ease;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0,123,255,0.2);
    }

    .sidebar-column {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        z-index: 1000;
        background: #fff;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    .main-content {
        margin-left: 16.666667%; /* This corresponds to col-md-2 width */
        width: 83.333333%; /* This corresponds to col-md-10 width */
    }

    @media (max-width: 1100px) {
        .sidebar-column {
            position: relative;
            height: auto;
            width: 100%;
        }

        .main-content {
            margin-left: 0;
            width: 100%;
            padding: 0 10px;
        }

        .col-md-6 {
            width: 100%;
            padding: 0;
        }

        .chart-panel {
            margin: 10px 0;
            width: 100%;
        }

        .filter-container {
            margin: 10px 0;
            padding: 10px;
        }

        .panel-body {
            padding: 10px !important;
        }

        .row {
            margin: 0;
        }

        .profile-panel {
            margin: 10px 0 !important;
        }

        /* Ensure proper spacing between chart panels */
        .chart-panel {
            margin-bottom: 15px !important;
        }

        /* Adjust filter container inputs on mobile */
        .filter-container .col-md-4 {
            width: 100%;
            margin-bottom: 10px;
        }

        .filter-container .btn {
            width: 100%;
            margin-top: 10px !important;
        }
    }

    /* Add transition for smooth resizing */
    .chart-panel, .main-content, .sidebar-column {
        transition: all 0.3s ease-in-out;
    }
</style>
